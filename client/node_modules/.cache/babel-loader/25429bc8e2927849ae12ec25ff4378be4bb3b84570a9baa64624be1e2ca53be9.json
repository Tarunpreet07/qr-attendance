{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kaurt\\\\Documents\\\\PROJECTS\\\\qr\\\\client\\\\src\\\\components\\\\Scanner.js\",\n  _s = $RefreshSig$();\n// QR Scanner Component\nimport React, { useEffect } from 'react';\nimport { Html5Qrcode } from 'html5-qrcode';\nimport axios from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Scanner() {\n  _s();\n  useEffect(() => {\n    const scanner = new Html5Qrcode(\"qr-reader\");\n    scanner.start({\n      facingMode: \"environment\"\n    }, {\n      fps: 10,\n      qrbox: 250\n    }, async decodedText => {\n      try {\n        await axios.post('/attendance/scan', {\n          sessionId: decodedText,\n          location: {\n            lat: 0,\n            lng: 0\n          } // You can update with real geolocation\n        });\n        alert(\"Attendance marked for: \" + decodedText);\n        scanner.stop();\n      } catch (err) {\n        alert(\"Error marking attendance.\");\n      }\n    }).catch(console.error);\n    return () => {\n      scanner.stop().catch(console.error);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"qr-reader\",\n    style: {\n      width: '300px',\n      marginTop: '20px'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 10\n  }, this);\n}\n_s(Scanner, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = Scanner;\nvar _c;\n$RefreshReg$(_c, \"Scanner\");","map":{"version":3,"names":["React","useEffect","Html5Qrcode","axios","jsxDEV","_jsxDEV","Scanner","_s","scanner","start","facingMode","fps","qrbox","decodedText","post","sessionId","location","lat","lng","alert","stop","err","catch","console","error","id","style","width","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/kaurt/Documents/PROJECTS/qr/client/src/components/Scanner.js"],"sourcesContent":["// QR Scanner Component\r\nimport React, { useEffect } from 'react';\r\nimport { Html5Qrcode } from 'html5-qrcode';\r\nimport axios from '../api';\r\n\r\nexport default function Scanner() {\r\n  useEffect(() => {\r\n    const scanner = new Html5Qrcode(\"qr-reader\");\r\n    scanner.start(\r\n      { facingMode: \"environment\" },\r\n      { fps: 10, qrbox: 250 },\r\n      async (decodedText) => {\r\n        try {\r\n          await axios.post('/attendance/scan', {\r\n            sessionId: decodedText,\r\n            location: { lat: 0, lng: 0 }, // You can update with real geolocation\r\n          });\r\n          alert(\"Attendance marked for: \" + decodedText);\r\n          scanner.stop();\r\n        } catch (err) {\r\n          alert(\"Error marking attendance.\");\r\n        }\r\n      }\r\n    ).catch(console.error);\r\n\r\n    return () => {\r\n      scanner.stop().catch(console.error);\r\n    };\r\n  }, []);\r\n\r\n  return <div id=\"qr-reader\" style={{ width: '300px', marginTop: '20px' }} />;\r\n}\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,cAAc;AAC1C,OAAOC,KAAK,MAAM,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3B,eAAe,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EAChCN,SAAS,CAAC,MAAM;IACd,MAAMO,OAAO,GAAG,IAAIN,WAAW,CAAC,WAAW,CAAC;IAC5CM,OAAO,CAACC,KAAK,CACX;MAAEC,UAAU,EAAE;IAAc,CAAC,EAC7B;MAAEC,GAAG,EAAE,EAAE;MAAEC,KAAK,EAAE;IAAI,CAAC,EACvB,MAAOC,WAAW,IAAK;MACrB,IAAI;QACF,MAAMV,KAAK,CAACW,IAAI,CAAC,kBAAkB,EAAE;UACnCC,SAAS,EAAEF,WAAW;UACtBG,QAAQ,EAAE;YAAEC,GAAG,EAAE,CAAC;YAAEC,GAAG,EAAE;UAAE,CAAC,CAAE;QAChC,CAAC,CAAC;QACFC,KAAK,CAAC,yBAAyB,GAAGN,WAAW,CAAC;QAC9CL,OAAO,CAACY,IAAI,CAAC,CAAC;MAChB,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZF,KAAK,CAAC,2BAA2B,CAAC;MACpC;IACF,CACF,CAAC,CAACG,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC;IAEtB,OAAO,MAAM;MACXhB,OAAO,CAACY,IAAI,CAAC,CAAC,CAACE,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC;IACrC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBAAOnB,OAAA;IAAKoB,EAAE,EAAC,WAAW;IAACC,KAAK,EAAE;MAAEC,KAAK,EAAE,OAAO;MAAEC,SAAS,EAAE;IAAO;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAC7E;AAACzB,EAAA,CA1BuBD,OAAO;AAAA2B,EAAA,GAAP3B,OAAO;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}